<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Generadores Luhn y Damm</title>
  <style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f0f2f5;
    margin: 0;
    padding: 0;
  }

  .generator-container {
    display: flex;
    gap: 40px;
    padding: 40px 20px;
    flex-wrap: wrap;
    justify-content: center;
  }

  .generator {
    border: 1px solid #ccc;
    padding: 20px;
    width: 300px;
    background: #ffffff;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    transition: transform 0.2s ease;
  }

  .generator:hover {
    transform: translateY(-5px);
  }

  .generator h2 {
    margin-top: 0;
    color: #333;
    text-align: center;
  }

  .generator label {
    display: block;
    margin-top: 10px;
    font-weight: bold;
  }

  .generator input,
  .generator select {
    width: 100%;
    padding: 6px;
    margin-top: 4px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
  }

  .generator button {
    margin-top: 12px;
    padding: 10px;
    width: 100%;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.2s ease;
  }

  .generator button:hover {
    background-color: #0056b3;
  }

  .generator pre {
    margin-top: 12px;
    background: #f5f5f5;
    padding: 10px;
    height: 120px;
    overflow-y: auto;
    border-radius: 5px;
    font-family: monospace;
    border: 1px solid #ccc;
  }
#matrix {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 0;
  width: 100vw;
  height: 100vh;
  background: black;
}

.generator-container {
  position: relative;
  z-index: 1;
}

  </style>

</head>
<body>
  <div class="generator-container">
    <div class="generator">
      <h2>Generador Luhn</h2>
      <input id="luhnBase" type="text" placeholder="Ej: 453987010293xxxx" maxlength="16">
      <input id="luhnMonth" type="text" placeholder="Mes (01-12)" maxlength="2">
      <input id="luhnYear" type="text" placeholder="Año (2025-2031)" maxlength="4">
      <input id="luhnCVV" type="text" placeholder="CVV (opcional)" maxlength="3">
      <input id="luhnCount" type="number" placeholder="Cantidad" min="1" value="1">
      <button onclick="generateLuhn()">Generar</button>
      <pre id="luhnResult"></pre>
<button onclick="copyToClipboard('luhnResult')">Copiar todo</button>

    </div>

    <div class="generator">
      <h2>Generador Damm</h2>
      <input id="dammBase" type="text" placeholder="Ej: 453987010293xxxx" maxlength="16">
      <input id="dammMonth" type="text" placeholder="Mes (01-12)" maxlength="2">
      <input id="dammYear" type="text" placeholder="Año (2025-2031)" maxlength="4">
      <input id="dammCVV" type="text" placeholder="CVV (opcional)" maxlength="3">
      <input id="dammCount" type="number" placeholder="Cantidad" min="1" value="1">
      <button onclick="generateDamm()">Generar</button>
      <pre id="dammResult"></pre>
<button onclick="copyToClipboard('dammResult')">Copiar todo</button>

    </div>
  </div>

  <script>
    function generateLuhn() {
      const base = document.getElementById('luhnBase').value.trim();
      const month = document.getElementById('luhnMonth').value.trim();
      const year = document.getElementById('luhnYear').value.trim();
      const cvvInput = document.getElementById('luhnCVV').value.trim();
      const count = parseInt(document.getElementById('luhnCount').value);
      const output = document.getElementById('luhnResult');

      if (!base.includes('x')) return alert("Incluye 'x' en el número base");

      let results = [];
      let generated = new Set();

      while (results.length < count) {
        let current = '';
        for (let c of base) {
          current += c === 'x' ? Math.floor(Math.random() * 10) : c;
        }
        if (luhnCheck(current) && !generated.has(current)) {
          const cvv = cvvInput || String(Math.floor(Math.random() * 900) + 100);
          results.push(`${current}|${month}|${year}|${cvv}`);
          generated.add(current);
        }
      }
      output.textContent = results.join('\n');
    }

    function luhnCheck(number) {
      let sum = 0;
      let shouldDouble = false;
      for (let i = number.length - 1; i >= 0; i--) {
        let digit = parseInt(number[i]);
        if (shouldDouble) {
          digit *= 2;
          if (digit > 9) digit -= 9;
        }
        sum += digit;
        shouldDouble = !shouldDouble;
      }
      return sum % 10 === 0;
    }

    function generateDamm() {
      const base = document.getElementById('dammBase').value.trim();
      const month = document.getElementById('dammMonth').value.trim();
      const year = document.getElementById('dammYear').value.trim();
      const cvvInput = document.getElementById('dammCVV').value.trim();
      const count = parseInt(document.getElementById('dammCount').value);
      const output = document.getElementById('dammResult');

      if (!base.includes('x')) return alert("Incluye 'x' en el número base");

      let results = [];
      let generated = new Set();

      while (results.length < count) {
        let current = '';
        for (let c of base) {
          current += c === 'x' ? Math.floor(Math.random() * 10) : c;
        }
        if (dammCheck(current) && !generated.has(current)) {
          const cvv = cvvInput || String(Math.floor(Math.random() * 900) + 100);
          results.push(`${current}|${month}|${year}|${cvv}`);
          generated.add(current);
        }
      }
      output.textContent = results.join('\n');
    }

    function dammCheck(number) {
      const table = [
        [0,3,1,7,5,9,8,6,4,2],
        [7,0,9,2,1,5,4,8,6,3],
        [4,2,0,6,8,7,1,3,5,9],
        [1,7,5,0,9,8,3,4,2,6],
        [6,1,2,3,0,4,5,9,7,8],
        [3,6,7,4,2,0,9,5,8,1],
        [5,8,6,9,7,2,0,1,3,4],
        [8,9,4,5,3,6,2,0,1,7],
        [9,4,3,8,6,1,7,2,0,5],
        [2,5,8,1,4,3,6,7,9,0]
      ];
      let interim = 0;
      for (let digit of number) {
        interim = table[interim][parseInt(digit)];
      }
      return interim === 0;
    }
  function copyToClipboard(elementId) {
  const text = document.getElementById(elementId).textContent;
  navigator.clipboard.writeText(text).then(() => {
    alert('Copiado al portapapeles');
  }).catch(err => {
    alert('Error al copiar');
    console.error(err);
  });
}
// Fondo estilo Matrix
const canvas = document.getElementById("matrix");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let chars = "アァイィウヴエカガキギクグケコサザシジスズセソタチッツヅテトナニヌネノハバパヒビピフブプヘホマミムメモヤユヨラリルレロワヲンABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
chars = chars.split("");

let fontSize = 14;
let columns = canvas.width / fontSize;
let drops = Array(Math.floor(columns)).fill(1);

function draw() {
  ctx.fillStyle = "rgba(0, 0, 0, 0.05)";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  ctx.fillStyle = "#0F0";
  ctx.font = fontSize + "px monospace";

  for (let i = 0; i < drops.length; i++) {
    let char = chars[Math.floor(Math.random() * chars.length)];
    ctx.fillText(char, i * fontSize, drops[i] * fontSize);

    if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
      drops[i] = 0;
    }

    drops[i]++;
  }
}

setInterval(draw, 33);

window.addEventListener("resize", () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  columns = canvas.width / fontSize;
  drops = Array(Math.floor(columns)).fill(1);
});

  </script>
  <canvas id="matrix"></canvas>

</body>
</html>
