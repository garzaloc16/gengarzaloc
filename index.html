<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Generadores Luhn, Damm y Verhoeff</title>
  <style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #000;
    margin: 0;
    padding: 0;
    color: #fff;
    position: relative;
    overflow-x: hidden;
  }

  canvas#matrix {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
  }

  .generator-container {
    display: flex;
    gap: 40px;
    padding: 40px 20px;
    flex-wrap: wrap;
    justify-content: center;
  }

  .generator {
    border: 1px solid #ccc;
    padding: 20px;
    width: 300px;
    background: rgba(0, 0, 0, 0.85);
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.4);
    transition: transform 0.2s ease;
  }

  .generator:hover {
    transform: translateY(-5px);
  }

  .generator h2 {
    margin-top: 0;
    text-align: center;
    font-family: 'Courier New', monospace;
    color: #00ff80; /* verde tecnologico */
  }

  .generator label {
    display: block;
    margin-top: 10px;
    font-weight: bold;
  }

  .generator input,
  .generator select {
    width: 100%;
    padding: 6px;
    margin-top: 4px;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
  }

  .generator button {
    margin-top: 12px;
    padding: 10px;
    width: 100%;
    background-color: #00ff80;
    color: #000;
    border: none;
    border-radius: 5px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.2s ease;
  }

  .generator button:hover {
    background-color: #00cc66;
  }

  .generator pre {
    margin-top: 12px;
    background: #111;
    color: #0f0;
    padding: 10px;
    height: 120px;
    overflow-y: auto;
    border-radius: 5px;
    font-family: monospace;
    border: 1px solid #444;
  }
</style>
</head>
<body>
<canvas id="matrix"></canvas>
  <div class="generator-container">
    <div class="generator">
      <h2>Generador Luhn</h2>
      <input id="luhnBase" type="text" placeholder="Ej: 453987010293xxxx" maxlength="16">
      <input id="luhnMonth" type="text" placeholder="Mes (01-12)" maxlength="2">
      <input id="luhnYear" type="text" placeholder="Año (2025-2031)" maxlength="4">
      <input id="luhnCVV" type="text" placeholder="CVV (opcional)" maxlength="3">
      <input id="luhnCount" type="number" placeholder="Cantidad" min="1" value="1">
      <button onclick="generateLuhn()">Generar</button>
      <pre id="luhnResult"></pre>
      <button onclick="copyToClipboard('luhnResult')">Copiar todo</button>
    </div>

    <div class="generator">
      <h2>Generador Damm</h2>
      <input id="dammBase" type="text" placeholder="Ej: 453987010293xxxx" maxlength="16">
      <input id="dammMonth" type="text" placeholder="Mes (01-12)" maxlength="2">
      <input id="dammYear" type="text" placeholder="Año (2025-2031)" maxlength="4">
      <input id="dammCVV" type="text" placeholder="CVV (opcional)" maxlength="3">
      <input id="dammCount" type="number" placeholder="Cantidad" min="1" value="1">
      <button onclick="generateDamm()">Generar</button>
      <pre id="dammResult"></pre>
      <button onclick="copyToClipboard('dammResult')">Copiar todo</button>
    </div>

    <div class="generator">
      <h2>Generador Verhoeff</h2>
      <input id="verhoeffBase" type="text" placeholder="Ej: 453987010293xxxx" maxlength="16">
      <input id="verhoeffMonth" type="text" placeholder="Mes (01-12)" maxlength="2">
      <input id="verhoeffYear" type="text" placeholder="Año (2025-2031)" maxlength="4">
      <input id="verhoeffCVV" type="text" placeholder="CVV (opcional)" maxlength="3">
      <input id="verhoeffCount" type="number" placeholder="Cantidad" min="1" value="1">
      <button onclick="generateVerhoeff()">Generar</button>
      <pre id="verhoeffResult"></pre>
      <button onclick="copyToClipboard('verhoeffResult')">Copiar todo</button>
    </div>
  </div>
<script>
// [... Código existente de Luhn, Damm, CopyToClipboard y Matrix ...]

function generateVerhoeff() {
  const base = document.getElementById('verhoeffBase').value.trim();
  const month = document.getElementById('verhoeffMonth').value.trim();
  const year = document.getElementById('verhoeffYear').value.trim();
  const cvvInput = document.getElementById('verhoeffCVV').value.trim();
  const count = parseInt(document.getElementById('verhoeffCount').value);
  const output = document.getElementById('verhoeffResult');

  if (!base.includes('x')) return alert("Incluye 'x' en el número base");

  let results = [];
  let generated = new Set();

  while (results.length < count) {
    let current = '';
    for (let c of base) {
      current += c === 'x' ? Math.floor(Math.random() * 10) : c;
    }
    if (verhoeffCheck(current) && !generated.has(current)) {
      const cvv = cvvInput || String(Math.floor(Math.random() * 900) + 100);
      results.push(`${current}|${month}|${year}|${cvv}`);
      generated.add(current);
    }
  }
  output.textContent = results.join('\n');
}

function verhoeffCheck(number) {
  const d = [
    [0,1,2,3,4,5,6,7,8,9],
    [1,2,3,4,0,6,7,8,9,5],
    [2,3,4,0,1,7,8,9,5,6],
    [3,4,0,1,2,8,9,5,6,7],
    [4,0,1,2,3,9,5,6,7,8],
    [5,9,8,7,6,0,4,3,2,1],
    [6,5,9,8,7,1,0,4,3,2],
    [7,6,5,9,8,2,1,0,4,3],
    [8,7,6,5,9,3,2,1,0,4],
    [9,8,7,6,5,4,3,2,1,0]
  ];
  const p = [
    [0,1,2,3,4,5,6,7,8,9],
    [1,5,7,6,2,8,3,0,9,4],
    [5,8,0,3,7,9,6,1,4,2],
    [8,9,1,6,0,4,3,5,2,7],
    [9,4,5,3,1,2,6,8,7,0],
    [4,2,8,6,5,7,3,9,0,1],
    [2,7,9,3,8,0,6,4,1,5],
    [7,0,4,6,9,1,3,2,5,8]
  ];
  const inv = [0,4,3,2,1,5,6,7,8,9];
  let c = 0;
  const reversed = number.split('').reverse().map(Number);
  for (let i = 0; i < reversed.length; i++) {
    c = d[c][p[i % 8][reversed[i]]];
  }
  return c === 0;
}
</script>
</body>
</html>
