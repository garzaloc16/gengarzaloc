<h2>Conversión a Dólares</h2>
<div id="dolar-section" style="background:#fff;padding:15px;border-radius:8px;box-shadow:0 0 10px rgba(0,0,0,0.1);max-width:500px;">
    <label for="manual-usd"><strong>Valor del dólar (COP por USD):</strong></label>
    <input type="number" id="manual-usd" value="4000" style="width:100%;padding:8px;margin:8px 0;"/>
    <p><strong>Total pedido en USD:</strong> <span id="total-usd">0</span></p>
    <p id="alerta-impuestos" style="color:red;font-weight:bold;"></p>
</div>

<script>
function calcularUSDmanual() {
    const unidades = parseFloat(document.getElementById("unidades").value) || 0;
    const valorUnidad = parseFloat(document.getElementById("costoUnidad").value) || 0;
    const valorEnvio = parseFloat(document.getElementById("envio").value) || 0;
    const usdRate = parseFloat(document.getElementById("manual-usd").value) || 1;

    const totalCOP = (unidades * valorUnidad) + valorEnvio;
    const totalUSD = totalCOP / usdRate;

    document.getElementById("total-usd").textContent = totalUSD.toFixed(2) + " USD";

    const alerta = document.getElementById("alerta-impuestos");
    if (totalUSD > 200) {
        alerta.textContent = "¡Ojo! Sobrepasa los 200 USD, te van a cobrar impuestos";
    } else {
        alerta.textContent = "";
    }
}

// Recalcular cada vez que cambien estos campos
["unidades", "costoUnidad", "envio", "manual-usd"].forEach(id => {
    document.getElementById(id).addEventListener("input", calcularUSDmanual);
    document.getElementById(id).addEventListener("change", calcularUSDmanual);
});

calcularUSDmanual(); // cálculo inicial
</script>
